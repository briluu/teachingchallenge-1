<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8' />
		<link rel="stylesheet" href="css/main.css"/>
		<link rel="icon" href="img/dino.gif" type="image/gif"/>

		<!-- Load Angular Library -->
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.js"></script>
		<!-- Load our main Javascript app -->
		<script src="js/app.js"></script>
		<!-- Load Google Javascript library. Calls handleClientLoad() method when loaded.-->
		<script src="https://apis.google.com/js/client.js?onload=init"></script>
	</head>

	<body class="container" ng-app="myApp" ng-controller="GoogleApiCtrl">

			<div class="row">

				<h1>Using the Google API Client Library for JavaScript!</h1>
				<ul>
					<li>Authenticates with a user's Google account to access private data.</li>
					<li>Retrieves a list of up to ten files from a user's Google Drive.</li>
				</ul>

			</div>
			<div class="row">

				<button class="btn btn-primary" ng-click="handleClientLoad()">Retrieve Files</button>

				<a href="" id="authorize-button" style="visibility: hidden" ng-click="handleAuthClick()">
					<img id="button" src="img/googleSignIn.png" alt="Sign in with Google">
				</a>

				<div id="search" class="form-group form-inline pull-right">
					<i class="fa fa-search"></i>
					<input type="text" name="query" id="query" class="form-control" ng-model="searchQuery">
				</div>
				
			</div>

			<!-- Display API Call Results -->
		    <div ng-show="isBackendReady">
		    	<div class="row well" ng-repeat="file in files | filter:searchQuery">
					<img class="iconLink col-md-2" ng-src="{{file.iconLink}}">
					<a ng-href="{{file.alternateLink}}"><p class="col-md-5">{{file.title}}</p></a>
					<p class="col-md-5">Owner: {{file.owners[0].displayName}}</p>
	    		</div>
		    </div>

	</body>
</html>
